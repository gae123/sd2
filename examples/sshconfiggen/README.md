### Using sd2's mixin inheritance to generate ~/.ssh/config

sd2 is a tool to make it easy for developers to maintain and develop in multiple
stacks. One of the foundation features of sd2 is to automatically generate
sections in `~/.ssh/config`  sd2 uses ssh as the foundation to securely start
containers in remote hosts and mirror local directory and files so this is
very important.

`~/.ssh/config` provides a mapping from a name to settings needed
to ssh to a host. Over the years, I noticed that most of these settings
are the same. The .ssh/config syntax allows a two level inheritance. 
Name/values at the top level are inherited by all the ssh hosts defined in the
file.

With sd2 you maintain all the hosts in the configuration yaml files. Every
time the configuration file changes, sd2 automatically generates a section in
`~/.ssh/config`. The section is appropriately marked as generated by sd2.

But the sd2 configuration file is not just a .ssh/config configuration file
using the .yaml syntax. In additiion to that it also provides 
[mixin inheritance](https://en.wikipedia.org/wiki/Mixin)
of sections.

Each section under `hosts:` can correspond to an actual host or can be
a section that groups a few name/values with the intent to be inherited
by one or mors hosts. These sections are marked with the 
name/value `abstract: true`. Actual hosts section contains an `extends` 
section with sections that are inherited by the host.

When sd2 processes the configuration file or files, first finds all the sections
of a real host by following the inheritance paths. Then for every non
abstact section, it generates a host section in `~/.ssh/config`.

Multiple levels of inheritance are supported. Repeated sections are resolved 
with the value of the name/value in the deepest node. For instance, if A defines
`User: foo` and B extends A and also defines `User: bar` the generated entry
for B will have `User: bar`.

![The Example](https://docs.google.com/drawings/d/e/2PACX-1vSbXgqFaSN4j8umzLpWm0ZzfN8HiOewPKLpPCscpwiP4qmetC8kE70zdD8F05OVzhSYzdw4izsWvJmN/pub?w=716&amp;h=515)